(this["webpackJsonpreact-redux"]=this["webpackJsonpreact-redux"]||[]).push([[0],{191:function(e,n,t){e.exports=t(346)},196:function(e,n,t){},345:function(e,n,t){},346:function(e,n,t){"use strict";t.r(n);var o=t(0),a=t.n(o),l=t(14),i=t.n(l),c=(t(196),t(32)),r=t(128),u=t.n(r),s=t(162),d=t(38),v=t(39),p=t(45),f=t(44),h=t(37),m=t(64),g=t(118),b=t(349),y=t(350),O=t(98),E=t(76),j=t.n(E),k=function(){function e(){Object(d.a)(this,e)}return Object(v.a)(e,null,[{key:"setBaseURL",value:function(e){this.http=j.a.create({baseURL:e})}},{key:"get",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.http.get(e,{params:n})}},{key:"post",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.http.post(e,n,t)}},{key:"getURL",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return j.a.get(e,{params:n})}},{key:"postURL",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return j.a.post(e,n,t)}}]),e}();k.http=j.a.create({baseURL:"http://localhost:3000/data/"});var I="SET_CONFIG",C="SET_CONFIG_URL",L="SET_INVOICE_LIST",U="SET_VENDORS_LIST",S={configURL:"http://localhost:3000/data/app/config",config:{}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,n=arguments.length>1?arguments[1]:void 0;switch(console.log(e,n),n.type){case C:return Object(c.a)(Object(c.a)({},e),{},{configURL:n.payload});case I:return console.log(e),Object(c.a)(Object(c.a)({},e),{},{config:n.payload});default:return e}},N={setConfig:function(e){return function(n){n({type:I,payload:e})}},setConfigURL:function(e){return console.log(e),function(n){n({type:C,payload:e})}}},R={setInvoiceList:function(e){return function(n){n({type:L,payload:e})}},setVendorsList:function(e){return function(n){n({type:U,payload:e})}}},x=function(e){Object(p.a)(t,e);var n=Object(f.a)(t);function t(){var e;Object(d.a)(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return(e=n.call.apply(n,[this].concat(a))).invoice={},e.state={visible:!1,filteredInfo:null,sortedInfo:null},e.handleChange=function(n,t,o){e.setState({filteredInfo:t,sortedInfo:o})},e.clearFilters=function(){e.setState({filteredInfo:null})},e.clearAll=function(){e.setState({filteredInfo:null,sortedInfo:null})},e.setAgeSort=function(){e.setState({sortedInfo:{order:"descend",columnKey:"age"}})},e.showModal=function(n,t){e.invoice=Object(c.a)(Object(c.a)({},n),t),e.setState({visible:!0})},e.handleOk=function(n){var t,o,a;console.log(n),e.setState({visible:!1}),e.props.history.push("/payment"),k.post(null===(t=e.props)||void 0===t||null===(o=t.config)||void 0===o||null===(a=o.config)||void 0===a?void 0:a.paymentPost,Object(c.a)({},e.invoice)).then((function(e){console.log(e.data)}))},e.handleCancel=function(n){console.log(n),e.setState({visible:!1})},e}return Object(v.a)(t,[{key:"componentDidUpdate",value:function(e){var n,t,o,a,l,i,c,r,u,s,d,v,p,f,h,m,g,b,y,O,E,j,I,C,L,U,S,w=this;console.log(null===(n=this.props)||void 0===n||null===(t=n.config)||void 0===t||null===(o=t.config)||void 0===o||null===(a=o.dataEndPoints)||void 0===a?void 0:a.call2),(null===(l=this.props)||void 0===l||null===(i=l.config)||void 0===i||null===(c=i.config)||void 0===c||null===(r=c.dataEndPoints)||void 0===r?void 0:r.call2)!=(null===e||void 0===e||null===(u=e.config)||void 0===u||null===(s=u.config)||void 0===s||null===(d=s.dataEndPoints)||void 0===d?void 0:d.call2)&&k.getURL(null===(v=this.props)||void 0===v||null===(p=v.config)||void 0===p||null===(f=p.config)||void 0===f||null===(h=f.dataEndPoints)||void 0===h?void 0:h.call2).then((function(e){w.props.setInvoiceList(e.data)})),(null===(m=this.props)||void 0===m||null===(g=m.config)||void 0===g||null===(b=g.config)||void 0===b||null===(y=b.dataEndPoints)||void 0===y?void 0:y.call3)!=(null===(O=this.props)||void 0===O||null===(E=O.config)||void 0===E||null===(j=E.config)||void 0===j||null===(I=j.dataEndPoints)||void 0===I?void 0:I.call3)&&k.getURL(null===(C=this.props)||void 0===C||null===(L=C.config)||void 0===L||null===(U=L.config)||void 0===U||null===(S=U.dataEndPoints)||void 0===S?void 0:S.call3).then((function(e){w.props.setVendorsList(e.data)}))}},{key:"render",value:function(){var e,n,t,o,l,i,r,u,s,d,v,p,f=this,h=this.state,m=h.sortedInfo,E=h.filteredInfo;m=m||{},E=E||{};var j=Object(g.a)((null===(e=this.props)||void 0===e||null===(n=e.invoicelist)||void 0===n?void 0:n.vendorslist)||[]),I=Object(g.a)((null===(t=this.props)||void 0===t||null===(o=t.invoicelist)||void 0===o?void 0:o.invoicelist)||[]).map((function(e,n){var t,o,l,i,r=Object(c.a)(Object(c.a)({},e),{},{key:n+"invoiceList"}),u=j.find((function(n){return n.vendorId==e.vendorId}));return console.log(u),(null===(t=f.props)||void 0===t||null===(o=t.config)||void 0===o||null===(l=o.config)||void 0===l||null===(i=l.tableConfig)||void 0===i?void 0:i.paymentEnabled)&&+e.amountDue>0&&(r.payUI=a.a.createElement(a.a.Fragment,{key:"payUI".concat(n)},a.a.createElement("button",{onClick:function(){return f.showModal(u,e)}},"Pay"))),r})),C=[];return Object(g.a)((null===(l=this.props)||void 0===l||null===(i=l.config)||void 0===i||null===(r=i.config)||void 0===r||null===(u=r.tableConfig)||void 0===u?void 0:u.columns)||[]).forEach((function(e){var n={title:e.displayName||void 0,dataIndex:e.fieldName||void 0,key:e.fieldName||void 0};e.filteringEnabled&&(n.filteredValue=E.name||null,n.onFilter=function(n,t){var o;return 0===(null===t||void 0===t||null===(o=t[e.fieldName])||void 0===o?void 0:o.indexOf(n))}),e.sortingEnabled&&(n.sortOrder=m.columnKey===e.fieldName&&m.order,n.sorter=function(n,t){var o,a;return(null===n||void 0===n||null===(o=n[e.fieldName])||void 0===o?void 0:o.length)-(null===t||void 0===t||null===(a=t[e.fieldName])||void 0===a?void 0:a.length)}),e.display&&C.push(n)})),(null===(s=this.props)||void 0===s||null===(d=s.config)||void 0===d||null===(v=d.config)||void 0===v||null===(p=v.tableConfig)||void 0===p?void 0:p.paymentEnabled)&&C.push({title:"Pay",dataIndex:"payUI",key:"payUI"}),a.a.createElement(a.a.Fragment,null,a.a.createElement(b.a,{dataSource:I,columns:C,onChange:this.handleChange}),a.a.createElement(y.a,{title:this.invoice.name,visible:this.state.visible,onOk:this.handleOk,okText:"Pay Now",onCancel:this.handleCancel},a.a.createElement("p",null,"InvoiceId:",this.invoice.invoiceId),a.a.createElement("p",null,"Vendor Name:",this.invoice.vendorName),a.a.createElement("p",null,"product:",this.invoice.product),a.a.createElement("p",null,"amountBal:",this.invoice.amountBal),a.a.createElement("p",null,"amountDue:",this.invoice.amountDue),+this.invoice.creditBal>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement(O.a,{onChange:function(e){var n,t,o;k.post(null===(n=f.props)||void 0===n||null===(t=n.config)||void 0===t||null===(o=t.config)||void 0===o?void 0:o.creditPost,Object(c.a)(Object(c.a)({},f.invoice),{},{creditPost:e.target.value})).then((function(e){console.log(e.data)}))}})," Use Credit ")))}}]),t}(a.a.Component),P=Object(m.b)(w,Object(c.a)(Object(c.a)({},N),R))(Object(h.f)(x)),F=(a.a.Component,a.a.Component,t(43)),A=function(e){Object(p.a)(t,e);var n=Object(f.a)(t);function t(){return Object(d.a)(this,t),n.apply(this,arguments)}return Object(v.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(a.a.Fragment,null,"Thank you for your Payment",a.a.createElement(F.a,{type:"primary",block:!0,onClick:function(){e.props.history.push("")}},"View other Invoices"))}}]),t}(a.a.Component),V=Object(h.f)(A),T=t(351),_=t(357),B=t(356),D=function(e){Object(p.a)(t,e);var n=Object(f.a)(t);function t(){var e;Object(d.a)(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return(e=n.call.apply(n,[this].concat(a))).configURL="",e}return Object(v.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e,n,t=this;return console.log(this.configURL,this.props),a.a.createElement(a.a.Fragment,null,a.a.createElement(_.a,null,a.a.createElement(B.a,{span:18,push:6},a.a.createElement(F.a,{className:"",type:"primary",size:5,onClick:function(){t.props.history.push("")}},"Save")),a.a.createElement(B.a,{span:6,pull:18},a.a.createElement(T.a,{placeholder:"config url to be loaded",onChange:function(e){console.log(e.target.value),t.props.setConfigURL(e.target.value)},defaultValue:null===(e=this.props)||void 0===e||null===(n=e.config)||void 0===n?void 0:n.configURL}))))}}]),t}(a.a.Component),M=Object(m.b)(w,Object(c.a)({},N))(Object(h.f)(D)),H=t(348),K=t(57),W=t(352),G=t(353),J=t(355),z=t(354),$=(H.a.Header,H.a.Content),q=H.a.Footer,Q=H.a.Sider,X=function(e){Object(p.a)(t,e);var n=Object(f.a)(t);function t(){var e;Object(d.a)(this,t);for(var o=arguments.length,l=new Array(o),i=0;i<o;i++)l[i]=arguments[i];return(e=n.call.apply(n,[this].concat(l))).state={collapsed:!0},e.onCollapse=function(n){console.log(n),e.setState({collapsed:n})},e.menuList=[{label:"Admin",icon:a.a.createElement(G.a,null)},{label:"Invoices",route:"",icon:a.a.createElement(J.a,null)},{label:"Config",route:"config",icon:a.a.createElement(z.a,null)}],e}return Object(v.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(a.a.Fragment,null,a.a.createElement(H.a,{theme:"light",style:{minHeight:"100vh"}},a.a.createElement(Q,{collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse},a.a.createElement("div",{className:"logo"}),a.a.createElement(K.a,{theme:"dark",defaultSelectedKeys:["menuItem1"],mode:"inline"},this.menuList.map((function(n,t){return a.a.createElement(K.a.Item,{key:"menuItem"+t,onClick:function(){var t=n.route||"";e.props.history.push(t),console.log("menu",n)},icon:n.icon},n.label)})))),a.a.createElement(H.a,{className:"site-layout"},a.a.createElement($,{style:{margin:"0 16px"}},a.a.createElement(W.a,{style:{margin:"16px 0"}},a.a.createElement(W.a.Item,null,"User"),a.a.createElement(W.a.Item,null,"Invoices")),a.a.createElement("div",{className:"site-layout-background",style:{padding:24,minHeight:360}},this.props.children)),a.a.createElement(q,{style:{textAlign:"center"}},"iVoyant -Payment submited by Akhil( +91 90143 92233 )"))))}}]),t}(a.a.Component),Y=Object(h.f)(X),Z=(t(344),t(345),function(e){Object(p.a)(t,e);var n=Object(f.a)(t);function t(){return Object(d.a)(this,t),n.apply(this,arguments)}return Object(v.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props),this.getConfig()}},{key:"getConfig",value:function(){var e=Object(s.a)(u.a.mark((function e(){var n,t,o,a,l=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(n=this.props)||void 0===n||null===(t=n.config)||void 0===t?void 0:t.configURL)){e.next=5;break}return e.next=3,j.a.get(null===(o=this.props)||void 0===o||null===(a=o.config)||void 0===a?void 0:a.configURL).then((function(e){console.log("config updated",e.data),l.props.setConfig(e.data)}));case 3:e.next=6;break;case 5:this.props.history.push("config");case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(Y,null,a.a.createElement(h.c,null,a.a.createElement(h.a,{exact:!0,path:"/",component:P}),a.a.createElement(h.a,{path:"/payment",component:V}),a.a.createElement(h.a,{path:"/config",component:M}),a.a.createElement(h.a,{path:"*",component:M}))))}}]),t}(a.a.Component)),ee=Object(m.b)(w,Object(c.a)({},N))(Object(h.f)(Z)),ne=t(127),te=t(67),oe=t(184),ae={invoicelist:[],vendorslist:[]},le=Object(te.c)({config:w,invoicelist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case L:return Object(c.a)(Object(c.a)({},e),{},{invoicelist:n.payload});case U:return Object(c.a)(Object(c.a)({},e),{},{vendorslist:n.payload});default:return e}}});var ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=[Object(oe.createLogger)(),ne.a];return Object(te.e)(le,e,Object(te.d)(te.a.apply(void 0,n)))}();Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ce=t(71);console.log(ie),i.a.render(a.a.createElement(m.a,{store:ie},a.a.createElement(ce.a,null,a.a.createElement(ee,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[191,1,2]]]);
//# sourceMappingURL=main.c9538622.chunk.js.map